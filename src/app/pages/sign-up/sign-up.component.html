<ion-grid>
  <ion-row>
    <ion-col size="12" size-md="6" offset-md="3">
      <ion-card>
        <ion-card-header>
          <ion-card-title>Sign-Up</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <form [formGroup]="signUpForm" (ngSubmit)="onSubmit()">
            <!-- Profile Picture Upload -->
            <div class="profile-upload">
              <ion-avatar>
                <ion-img
                  [src]="previewUrl || 'assets/images/Image-not-found.png'"
                  alt="Profile"
                ></ion-img>
              </ion-avatar>
              <ion-button fill="clear" (click)="fileInput.click()">
                Upload Photo
              </ion-button>
              <input
                #fileInput
                type="file"
                accept="image/*"
                (change)="onFileSelected($event)"
                style="display: none"
              />
            </div>
            <ion-item>
              <ion-label position="floating">Name</ion-label>
              <ion-input type="text" formControlName="userName"></ion-input>
            </ion-item>

            <div
              *ngIf="
                signUpForm.get('name')?.invalid &&
                signUpForm.get('name')?.touched
              "
            >
              <small *ngIf="signUpForm.get('name')?.errors?.['required']"
                >Name is required.</small
              >
            </div>

            <ion-item>
              <ion-label position="floating">Email</ion-label>
              <ion-input type="email" formControlName="email"></ion-input>
            </ion-item>
            <div
              *ngIf="
                signUpForm.get('email')?.invalid &&
                signUpForm.get('email')?.touched
              "
            >
              <small *ngIf="signUpForm.get('email')?.errors?.['required']"
                >Email is required.</small
              >
              <small *ngIf="signUpForm.get('email')?.errors?.['email']"
                >Invalid email address.</small
              >
            </div>

            <ion-item>
              <ion-label position="floating">Password</ion-label>
              <ion-input type="password" formControlName="password"></ion-input>
            </ion-item>
            <div
              *ngIf="
                signUpForm.get('password')?.invalid &&
                signUpForm.get('password')?.touched
              "
            >
              <small *ngIf="signUpForm.get('password')?.errors?.['required']"
                >Password is required.</small
              >
              <small *ngIf="signUpForm.get('password')?.errors?.['minlength']">
                Password must be at least 6 characters long.
              </small>
            </div>

            <ion-button
              expand="full"
              type="submit"
              [disabled]="signUpForm.invalid"
            >
              Create My Account
            </ion-button>
            <div class="login-link">
              <p>
                Already have an account?
                <a [routerLink]="['/login']">Login</a>
              </p>
            </div>
          </form>
        </ion-card-content>
      </ion-card>
    </ion-col>
  </ion-row>
</ion-grid>
